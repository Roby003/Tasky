@model Tasky.Models.Task
@*
    
    PartialView pentru afisarea modalului de edit
*@
<script>
    $('.close').on('click', function () {
        $('#taskModal').modal('hide');
    });
</script>
<div class="modal fade" id="taskModal" tabindex="-1" role="dialog" aria-labelledby="taskModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addTaskModalLabel">Add New Task</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!-- Form for adding a new task -->
                <form asp-action="AddTask" id="test_id">
                    <input name="IsValid" type="hidden" value="@ViewData.ModelState.IsValid.ToString()" />
                    <input type="hidden" name="ProjectId" value="@Model.ProjectId" />
                    <input type="hidden" name="Id" value="@Model.Id" />
                    <input type="hidden" name="Status" value="notstarted" />

                    <div class="form-group">
                        <label for="taskDescription">Description:</label>
                        <input type="text" class="form-control" name="Descriere" value="@Model.Descriere" />
                        @Html.ValidationMessage("Descriere",null,new{@class="text-danger"})
                    </div>
                    <div class="form-group">
                        <label for="taskStartDate">Start Date:</label>
                        <input type="date" class="form-control" name="DataStart" value="@Model.DataStart?.ToString("yyyy-MM-dd")" />
                        @Html.ValidationMessage("DataStart",null,new{@class="text-danger"})

                    </div>
                    <div class="form-group">
                        <label for="taskEndDate">Deadline:</label>
                        <input type="date" class="form-control" name="DataFinalizare" value="@Model.DataFinalizare?.ToString("yyyy-MM-dd")" />
                        @Html.ValidationMessage("DataFinalizare",null,new{@class="text-danger"})

                    </div>
                    <div class="form-group">
                        <label for="taskMedia">Media:</label>
                        <input type="text" class="form-control" name="Media" value="@Model.Media" />
                    </div>
                    <div class="form-group">
                        <label>Selectati membru responsabil</label>
                        @Html.DropDownListFor(m => m.UserId,
                        new SelectList(Model.Users, "Value", "Text"),
                        "Selectati membru", new { @class = "form-control" })
                    </div>
                    <div class="form-group">
                        <label>Selectati membru responsabil</label>
                        @Html.DropDownListFor(m => m.UserId,
                        new SelectList(Model.Users, "Value", "Text"),
                        "Selectati membru", new { @class = "form-control" })
                    </div>
                </form>
                <div class="modal-footer">

                    <button type="button" class="btn btn-success" data-save="modal" id="test_id">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

